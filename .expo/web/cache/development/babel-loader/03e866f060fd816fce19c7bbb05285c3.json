{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"navigation\"];\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\react\\\\SunhouseKTV\\\\screens\\\\SignInScreen.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport * as Animatable from 'react-native-animatable';\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport Feather from \"@expo/vector-icons/Feather\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useTheme } from 'react-native-paper';\nimport { showMessage } from 'react-native-flash-message';\nimport Logo from \"../components/controls/Logo\";\nimport * as actionsLogin from \"../Redux/Action/login\";\nimport * as actionsLoading from \"../Redux/Action/loading\";\nimport { connect } from 'react-redux';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return _objectSpread({}, state);\n};\n\nvar SignInScreen = function SignInScreen(_ref) {\n  var navigation = _ref.navigation,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState({\n    userName: null,\n    passWord: null,\n    loading: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      localState = _useState2[0],\n      setLocalState = _useState2[1];\n\n  var _React$useState = React.useState({\n    username: '',\n    password: '',\n    check_textInputChange: false,\n    secureTextEntry: true,\n    isValidUser: true,\n    isValidPassword: true\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      data = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  var _useTheme = useTheme(),\n      colors = _useTheme.colors;\n\n  var updateSecureTextEntry = function updateSecureTextEntry() {\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      secureTextEntry: !data.secureTextEntry\n    }));\n  };\n\n  var handleValidUser = function handleValidUser(val) {\n    if (val.trim().length >= 4) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidUser: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidUser: false\n      }));\n    }\n  };\n\n  var loginHandle = function loginHandle() {\n    return _regeneratorRuntime.async(function loginHandle$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n\n            if (!(localState.userName == null || localState.userName == \"\")) {\n              _context.next = 4;\n              break;\n            }\n\n            showMessage({\n              type: 'warning',\n              message: 'Bạn chưa nhập tài khoản',\n              position: 'top'\n            });\n            return _context.abrupt(\"return\");\n\n          case 4:\n            if (!(localState.passWord == null || localState.passWord == \"\")) {\n              _context.next = 7;\n              break;\n            }\n\n            showMessage({\n              type: 'warning',\n              message: 'Bạn chưa nhập mật khẩu',\n              position: 'top'\n            });\n            return _context.abrupt(\"return\");\n\n          case 7:\n            props.ToggleLoading(true);\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(props.LoginApp(localState.userName, localState.passWord));\n\n          case 10:\n            props.ToggleLoading(false);\n            navigation.navigate(\"App\");\n            _context.next = 17;\n            break;\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](0);\n            Alert.alert(JSON.stringify(_context.t0));\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 14]], Promise);\n  };\n\n  useEffect(function () {\n    setTimeout(function () {\n      AsyncStorage.getItem(\"userLogin\").then(function (value) {\n        if (!props.userLogin) {\n          props.SetInfoLogin(JSON.parse(value));\n        }\n\n        if (value) {\n          navigation.replace(\"App\");\n        }\n      });\n    }, 1000);\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: \"#009387\",\n    barStyle: \"light-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, React.createElement(Logo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 18\n    }\n  })), React.createElement(Animatable.View, {\n    animation: \"fadeInUpBig\",\n    style: [styles.footer, {\n      backgroundColor: colors.background\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: [styles.text_footer, {\n      color: colors.text\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, \"Ta\\u0300i khoa\\u0309n\"), React.createElement(View, {\n    style: styles.action,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, React.createElement(FontAwesome, {\n    name: \"user-o\",\n    color: colors.text,\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Nh\\xE2\\u0323p ta\\u0300i khoa\\u0309n\",\n    placeholderTextColor: \"#666666\",\n    style: [styles.textInput, {\n      color: colors.text\n    }],\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(value) {\n      return setLocalState(function (preState) {\n        return _objectSpread(_objectSpread({}, preState), {}, {\n          userName: value\n        });\n      });\n    },\n    onEndEditing: function onEndEditing(e) {\n      return handleValidUser(e.nativeEvent.text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }), data.check_textInputChange ? React.createElement(Animatable.View, {\n    animation: \"bounceIn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  }, React.createElement(Feather, {\n    name: \"check-circle\",\n    color: \"green\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  })) : null), React.createElement(Text, {\n    style: [styles.text_footer, {\n      color: colors.text,\n      marginTop: 35\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"M\\xE2\\u0323t kh\\xE2\\u0309u\"), React.createElement(View, {\n    style: styles.action,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, React.createElement(Feather, {\n    name: \"lock\",\n    color: colors.text,\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Nh\\xE2\\u0323p m\\xE2\\u0323t kh\\xE2\\u0309u\",\n    placeholderTextColor: \"#666666\",\n    secureTextEntry: data.secureTextEntry ? true : false,\n    style: [styles.textInput, {\n      color: colors.text\n    }],\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(value) {\n      return setLocalState(function (preState) {\n        return _objectSpread(_objectSpread({}, preState), {}, {\n          passWord: value\n        });\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: updateSecureTextEntry,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, data.secureTextEntry ? React.createElement(Feather, {\n    name: \"eye-off\",\n    color: \"grey\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }) : React.createElement(Feather, {\n    name: \"eye\",\n    color: \"grey\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      Alert.alert(\"Tính năng đang phát triển!\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: '#009387',\n      marginTop: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, \"Qu\\xEAn m\\xE2\\u0323t kh\\xE2\\u0309u?\")), React.createElement(View, {\n    style: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.signIn,\n    onPress: loginHandle.bind(_this),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }, React.createElement(LinearGradient, {\n    colors: ['#08d4c4', '#01ab9d'],\n    style: styles.signIn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: [styles.textSign, {\n      color: '#fff'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 29\n    }\n  }, \"\\u0110\\u0103ng nh\\xE2\\u0323p\"))))));\n};\n\nexport default connect(mapStateToProps, _objectSpread(_objectSpread({}, actionsLogin), actionsLoading))(SignInScreen);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#009387'\n  },\n  header: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    paddingHorizontal: 20,\n    paddingBottom: 50\n  },\n  footer: {\n    flex: 3,\n    backgroundColor: '#fff',\n    borderTopLeftRadius: 30,\n    borderTopRightRadius: 30,\n    paddingHorizontal: 20,\n    paddingVertical: 30\n  },\n  text_header: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 30\n  },\n  text_footer: {\n    color: '#05375a',\n    fontSize: 18\n  },\n  action: {\n    flexDirection: 'row',\n    marginTop: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#f2f2f2',\n    paddingBottom: 5\n  },\n  actionError: {\n    flexDirection: 'row',\n    marginTop: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#FF0000',\n    paddingBottom: 5\n  },\n  textInput: {\n    flex: 1,\n    marginTop: Platform.OS === 'ios' ? 0 : -12,\n    paddingLeft: 10,\n    color: '#05375a'\n  },\n  errorMsg: {\n    color: '#FF0000',\n    fontSize: 14\n  },\n  button: {\n    alignItems: 'center',\n    marginTop: 50\n  },\n  signIn: {\n    width: '100%',\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 10\n  },\n  textSign: {\n    fontSize: 18,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["D:/react/SunhouseKTV/screens/SignInScreen.js"],"names":["React","useEffect","useState","AsyncStorage","Animatable","FontAwesome","Feather","LinearGradient","useTheme","showMessage","Logo","actionsLogin","actionsLoading","connect","mapStateToProps","state","SignInScreen","navigation","props","userName","passWord","loading","localState","setLocalState","username","password","check_textInputChange","secureTextEntry","isValidUser","isValidPassword","data","setData","colors","updateSecureTextEntry","handleValidUser","val","trim","length","loginHandle","type","message","position","ToggleLoading","LoginApp","navigate","Alert","alert","JSON","stringify","setTimeout","getItem","then","value","userLogin","SetInfoLogin","parse","replace","styles","container","header","footer","backgroundColor","background","text_footer","color","text","action","textInput","preState","e","nativeEvent","marginTop","button","signIn","bind","textSign","StyleSheet","create","flex","justifyContent","paddingHorizontal","paddingBottom","borderTopLeftRadius","borderTopRightRadius","paddingVertical","text_header","fontWeight","fontSize","flexDirection","borderBottomWidth","borderBottomColor","actionError","Platform","OS","paddingLeft","errorMsg","alignItems","width","height","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n    View,\r\n    Text,\r\n    TouchableOpacity,\r\n    TextInput,\r\n    Platform,\r\n    StyleSheet,\r\n    StatusBar,\r\n    Alert,\r\n    AsyncStorage\r\n} from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\r\nimport Feather from 'react-native-vector-icons/Feather';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport { useTheme } from 'react-native-paper';\r\n\r\nimport { showMessage } from 'react-native-flash-message';\r\nimport Logo from '../components/controls/Logo';\r\n\r\nimport * as actionsLogin from \"../Redux/Action/login\";\r\nimport * as actionsLoading from \"../Redux/Action/loading\";\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { ...state };\r\n};\r\n\r\nconst SignInScreen = ({ navigation, ...props }) => {\r\n    const [localState, setLocalState] = useState({\r\n        userName: null,\r\n        passWord: null,\r\n        loading: false\r\n    });\r\n\r\n    const [data, setData] = React.useState({\r\n        username: '',\r\n        password: '',\r\n        check_textInputChange: false,\r\n        secureTextEntry: true,\r\n        isValidUser: true,\r\n        isValidPassword: true,\r\n    });\r\n\r\n    const { colors } = useTheme();\r\n\r\n    const updateSecureTextEntry = () => {\r\n        setData({\r\n            ...data,\r\n            secureTextEntry: !data.secureTextEntry\r\n        });\r\n    }\r\n\r\n    const handleValidUser = (val) => {\r\n        if (val.trim().length >= 4) {\r\n            setData({\r\n                ...data,\r\n                isValidUser: true\r\n            });\r\n        } else {\r\n            setData({\r\n                ...data,\r\n                isValidUser: false\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * login \r\n     * @param {*} userName \r\n     * @param {*} password \r\n     * @returns \r\n     */\r\n    var loginHandle = async () => {\r\n        try {\r\n            if (localState.userName == null || localState.userName == \"\") {\r\n                showMessage({\r\n                    type: 'warning',\r\n                    message: 'Bạn chưa nhập tài khoản',\r\n                    position: 'top',\r\n                });\r\n                return;\r\n            }\r\n            if (localState.passWord == null || localState.passWord == \"\") {\r\n                showMessage({\r\n                    type: 'warning',\r\n                    message: 'Bạn chưa nhập mật khẩu',\r\n                    position: 'top'\r\n                });\r\n                return;\r\n            }\r\n\r\n            props.ToggleLoading(true);\r\n            await props.LoginApp(localState.userName, localState.passWord);\r\n            props.ToggleLoading(false);\r\n             navigation.navigate(\"App\");\r\n        } catch (error) {\r\n            Alert.alert(JSON.stringify(error));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            // AsyncStorage.removeItem(\"userLogin\");\r\n            //Kiểm tra người dùng đăng nhập hay chưa, nếu chưa thì tới màn hình login\r\n            AsyncStorage.getItem(\"userLogin\").then((value) => {\r\n                if (!props.userLogin) {\r\n                    props.SetInfoLogin(JSON.parse(value));\r\n                }\r\n                if (value) {\r\n                    navigation.replace(\"App\");\r\n                }\r\n            });\r\n        }, 1000);\r\n    }, []);\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <StatusBar backgroundColor='#009387' barStyle=\"light-content\" />\r\n            <View style={styles.header}>\r\n                {<Logo />}\r\n            </View>\r\n            <Animatable.View\r\n                animation=\"fadeInUpBig\"\r\n                style={[styles.footer, {\r\n                    backgroundColor: colors.background\r\n                }]}\r\n            >\r\n                <Text style={[styles.text_footer, {\r\n                    color: colors.text\r\n                }]}>Tài khoản</Text>\r\n                <View style={styles.action}>\r\n                    <FontAwesome\r\n                        name=\"user-o\"\r\n                        color={colors.text}\r\n                        size={20}\r\n                    />\r\n                    <TextInput\r\n                        placeholder=\"Nhập tài khoản\"\r\n                        placeholderTextColor=\"#666666\"\r\n                        style={[styles.textInput, {\r\n                            color: colors.text\r\n                        }]}\r\n                        autoCapitalize=\"none\"\r\n                        onChangeText={(value) => setLocalState((preState) => ({ ...preState, userName: value }))}\r\n                        onEndEditing={(e) => handleValidUser(e.nativeEvent.text)}\r\n                    />\r\n                    {data.check_textInputChange ?\r\n                        <Animatable.View animation=\"bounceIn\" >\r\n                            <Feather\r\n                                name=\"check-circle\"\r\n                                color=\"green\"\r\n                                size={20}\r\n                            />\r\n                        </Animatable.View>\r\n                        : null}\r\n                </View>\r\n\r\n                <Text style={[styles.text_footer, {\r\n                    color: colors.text,\r\n                    marginTop: 35\r\n                }]}>Mật khẩu</Text>\r\n                <View style={styles.action}>\r\n                    <Feather\r\n                        name=\"lock\"\r\n                        color={colors.text}\r\n                        size={20}\r\n                    />\r\n                    <TextInput\r\n                        placeholder=\"Nhập mật khẩu\"\r\n                        placeholderTextColor=\"#666666\"\r\n                        secureTextEntry={data.secureTextEntry ? true : false}\r\n                        style={[styles.textInput, {\r\n                            color: colors.text\r\n                        }]}\r\n                        autoCapitalize=\"none\"\r\n                        onChangeText={(value) => setLocalState((preState) => ({ ...preState, passWord: value }))}\r\n                    />\r\n                    <TouchableOpacity\r\n                        onPress={updateSecureTextEntry}\r\n                    >\r\n                        {data.secureTextEntry ?\r\n                            <Feather\r\n                                name=\"eye-off\"\r\n                                color=\"grey\"\r\n                                size={20}\r\n                            />\r\n                            :\r\n                            <Feather\r\n                                name=\"eye\"\r\n                                color=\"grey\"\r\n                                size={20}\r\n                            />\r\n                        }\r\n                    </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity onPress={() => { Alert.alert(\"Tính năng đang phát triển!\") }} >\r\n                    <Text style={{ color: '#009387', marginTop: 15 }}>Quên mật khẩu?</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.button}>\r\n                    <TouchableOpacity\r\n                        style={styles.signIn}\r\n                        onPress={loginHandle.bind(this)}\r\n                    >\r\n                        <LinearGradient\r\n                            colors={['#08d4c4', '#01ab9d']}\r\n                            style={styles.signIn}\r\n                        >\r\n                            <Text style={[styles.textSign, {\r\n                                color: '#fff'\r\n                            }]}>Đăng nhập</Text>\r\n                        </LinearGradient>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </Animatable.View>\r\n        </View>\r\n    );\r\n};\r\n\r\nexport default connect(mapStateToProps, { ...actionsLogin, ...actionsLoading })(SignInScreen);\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#009387'\r\n    },\r\n    header: {\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n        paddingHorizontal: 20,\r\n        paddingBottom: 50\r\n    },\r\n    footer: {\r\n        flex: 3,\r\n        backgroundColor: '#fff',\r\n        borderTopLeftRadius: 30,\r\n        borderTopRightRadius: 30,\r\n        paddingHorizontal: 20,\r\n        paddingVertical: 30\r\n    },\r\n    text_header: {\r\n        color: '#fff',\r\n        fontWeight: 'bold',\r\n        fontSize: 30\r\n    },\r\n    text_footer: {\r\n        color: '#05375a',\r\n        fontSize: 18\r\n    },\r\n    action: {\r\n        flexDirection: 'row',\r\n        marginTop: 10,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#f2f2f2',\r\n        paddingBottom: 5\r\n    },\r\n    actionError: {\r\n        flexDirection: 'row',\r\n        marginTop: 10,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#FF0000',\r\n        paddingBottom: 5\r\n    },\r\n    textInput: {\r\n        flex: 1,\r\n        marginTop: Platform.OS === 'ios' ? 0 : -12,\r\n        paddingLeft: 10,\r\n        color: '#05375a',\r\n    },\r\n    errorMsg: {\r\n        color: '#FF0000',\r\n        fontSize: 14,\r\n    },\r\n    button: {\r\n        alignItems: 'center',\r\n        marginTop: 50\r\n    },\r\n    signIn: {\r\n        width: '100%',\r\n        height: 50,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        borderRadius: 10\r\n    },\r\n    textSign: {\r\n        fontSize: 18,\r\n        fontWeight: 'bold'\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}